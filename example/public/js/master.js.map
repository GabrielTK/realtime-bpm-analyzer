{"version":3,"sources":["app/app.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1CA;AAAA","file":"public/js/master.js","sourcesContent":["'use strict';\n\nconst RealTimeBPMAnalyzer = require('realtime-bpm-analyzer');\n\nconst App = {\n  init() {\n    console.log('yolo');\n\n    // Create new instance of AudioContext\n    var AudioContext = window.AudioContext || window.webkitAudioContext;\n    var audioContext = new AudioContext();\n    // Set the source with the HTML Audio Node\n    var source = audioContext.createMediaElementSource(document.getElementById('track'));\n    // Set the scriptProcessorNode to get PCM data in real time\n    var scriptProcessorNode = audioContext.createScriptProcessor(4096, 1, 1);\n    // Connect everythings together\n    scriptProcessorNode.connect(audioContext.destination);\n    source.connect(scriptProcessorNode);\n    source.connect(audioContext.destination);\n\n\n    // Insternciate RealTimeBPMAnalyzer\n    var onAudioProcess = new RealTimeBPMAnalyzer({\n        scriptNode: {\n            bufferSize: 4096,\n            numberOfInputChannels: 1,\n            numberOfOutputChannels: 1\n        },\n        pushTime: 2000,\n        pushCallback: function (err, bpm) {\n            document.getElementById('current-bpm').innerHTML = 'BPM : ' + bpm;\n        }\n    });\n\n\n    // Attach realTime function to audioprocess event\n    scriptProcessorNode.onaudioprocess = function (e) {\n        onAudioProcess.analyze(e);\n    };\n  }\n}\n\nmodule.exports = App;"]}